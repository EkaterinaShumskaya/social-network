"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[725],{9725:function(e,s,r){r.r(s),r.d(s,{default:function(){return ce}});var t=r(1413),o=r(5671),n=r(3144),i=r(136),a=r(5716),l=r(2791),u=r(2177),c=r(7781),d=r(380),f=r(5579),p={post:"Post_post__4Shda",avatarAndName:"Post_avatarAndName__gGm5F",avatar:"Post_avatar__kH66c",message:"Post_message__M76YL",avatarPost:"Post_avatarPost__P3lni"},h=r(3526),m=r(7025),j=r(184),_=function(e){return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:p.post,children:[(0,j.jsxs)("div",{className:p.avatarAndName,children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:e.profile.photos.large,className:p.avatarPost})}),(0,j.jsx)("h5",{style:{marginLeft:"5px"},children:e.userName})]}),(0,j.jsxs)("span",{className:p.message,children:[" ",e.message]}),(0,j.jsxs)("div",{className:p.likes,children:[(0,j.jsx)(m.Z,{onClick:function(){e.addLike(e.id)},size:"small",children:(0,j.jsx)(h.Z,{color:"primary"})}),(0,j.jsxs)("span",{children:[" ",e.likesCount]})]})]})})},x=r(6139),v=r(704),g=r(3079),P=r(4186),k=(0,g.D)(100),b=(0,v.Z)({form:"profileAddNewPostForm"})((function(e){return(0,j.jsxs)("form",{onSubmit:e.handleSubmit,className:f.Z.form,children:[(0,j.jsx)("div",{className:f.Z.data,children:(0,j.jsx)(x.Z,{component:P.g,name:"newPost",validate:[g.l,k],placeholder:"Enter your post",style:{width:"-webkit-fill-available"}})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:f.Z.button,children:"Add post"})})]})})),N=r(2381),Z=l.memo((function(e){var s=e.myposts.map((function(s){return(0,j.jsx)(_,{id:s.id,message:s.message,likesCount:s.likesCount,addLike:e.addLike,profile:e.profile,userName:e.userName},s.id)})),r=(0,u.I0)();return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:f.Z.postsBlock,children:[(0,j.jsxs)("div",{className:f.Z.postContainer,children:[(0,j.jsx)("h3",{className:f.Z.title,children:"My post"}),(0,j.jsx)(b,{onSubmit:function(s){e.onAddPost(s.newPost),r((0,N.mc)("profileAddNewPostForm"))}})]}),(0,j.jsx)("div",{className:f.Z.posts,children:s})]})})})),y=(0,c.qC)((0,u.$j)((function(e){return{myposts:e.profilePage.myposts,profile:e.profilePage.profile,userName:e.profilePage.profile.fullName}}),(function(e){return{onAddPost:function(s){e((0,d.Pi)(s))},addLike:function(s){e((0,d.zL)(s))}}})))(Z),A=r(885),F="ProfileInfo_mainContainer__L-pUr",C="ProfileInfo_avatarContainer__L9ZAr",S="ProfileInfo_photo__s63fO",w="ProfileInfo_infoContainer__45e2W",M="ProfileInfo_editButton__DwzGG",T="ProfileInfo_container__gK0tq",I="ProfileInfo_button__bKmpW",U="ProfileInfo_Name__SPfC1",D="ProfileInfo_status__XAKVz",J=function(e){var s=(0,l.useState)(!1),r=(0,A.Z)(s,2),t=r[0],o=r[1],n=(0,l.useState)(e.status),i=(0,A.Z)(n,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("div",{children:[!t&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{className:D,children:"Status"}),":",(0,j.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"----"})]}),t&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatusThunk(a)},onChange:function(e){u(e.currentTarget.value)},value:a})})]})},L=r(7806),O=r(5705),q=r(6513),z=r(9333),E=r(1787),B=r(1889),G=r(6362),V=r(9012),K=r(9641),R=r(9174),W={form:"ProfileDataForm_form__A86HM",error:"ProfileDataForm_error__E5U4X",button:"ProfileDataForm_button__AzM3I"},Y=function(e){var s=(0,z.TL)(),r={facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},o=(0,O.TA)({initialValues:(0,t.Z)({fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:""},r),validate:function(e){var s={};return e.fullName||(s.fullName="Required"),e.aboutMe||(s.aboutMe="Required"),e.lookingForAJobDescription||(s.lookingForAJobDescription="Required"),s},onSubmit:function(e){s((0,d.Ii)(e)),o.resetForm()}});return(0,j.jsx)(B.ZP,{container:!0,justifyContent:"center",children:(0,j.jsx)(B.ZP,{item:!0,justifyContent:"center",children:(0,j.jsx)(G.Z,{className:W.formControl,children:(0,j.jsx)("form",{onSubmit:o.handleSubmit,children:(0,j.jsxs)(V.Z,{children:[(0,j.jsx)(E.Z,(0,t.Z)({type:"fullName",label:"fullName",margin:"normal"},o.getFieldProps("fullName"))),o.touched.fullName&&o.errors.fullName&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.fullName]}),(0,j.jsx)(E.Z,(0,t.Z)({type:"aboutMe",label:"aboutMe",margin:"normal"},o.getFieldProps("aboutMe"))),o.touched.aboutMe&&o.errors.aboutMe&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.aboutMe]}),(0,j.jsx)(K.Z,{label:"lookingForAJob",control:(0,j.jsx)(R.Z,(0,t.Z)({checked:o.values.lookingForAJob},o.getFieldProps("lookingForAJob")))}),(0,j.jsx)(E.Z,(0,t.Z)({type:"lookingForAJobDescription",label:"lookingForAJobDescription",margin:"normal"},o.getFieldProps("lookingForAJobDescription"))),o.touched.lookingForAJobDescription&&o.errors.lookingForAJobDescription&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.lookingForAJobDescription]}),Object.keys(r).map((function(e){return(0,j.jsx)("div",{children:(0,j.jsx)(E.Z,(0,t.Z)({type:"text",label:e,margin:"normal"},o.getFieldProps(e)))},e)})),(0,j.jsx)(q.Z,{type:"submit",variant:"contained",color:"primary",className:W.button,children:"Save"})]})})})})})},$=r(3509),H="Profile_containerInfoAndPosts__3ajPW",Q="Profile_containerInfo__McOVL",X="Profile_containerPosts__QgnZZ",ee="Profile_headerContent__aq6AQ",se="Profile_data__TnYiL",re="Contact_link__M5GTG",te=function(e){var s=e.title,r=e.link;return(0,j.jsxs)("span",{style:{margin:"0 15px",wordBreak:"break-word"},children:[s,":",(0,j.jsx)("a",{href:r,className:re,children:r})]})},oe=function(e){var s=e.profile;return(0,j.jsxs)("div",{className:se,children:[(0,j.jsxs)("span",{children:[" About me: ",s.aboutMe," "]}),(0,j.jsxs)("span",{children:[" Looking for a job: ",s.lookingForAJob?"\u2705":""]}),s.lookingForAJob&&(0,j.jsxs)("span",{children:[" Skills: ",s.lookingForAJobDescription]}),(0,j.jsx)("span",{children:" Contacts: "}),Object.entries(s.contacts).map((function(e){return(0,j.jsx)(te,{title:e[0],link:e[1]},e[0])}))]})},ne=r(9978),ie=function(e){var s=(0,l.useState)(!1),r=(0,A.Z)(s,2),t=r[0],o=r[1];return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:F,children:[(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)("div",{className:C,children:(0,j.jsx)("img",{src:e.profile.photos.large||L,className:S})}),e.isOwner&&(0,j.jsxs)(m.Z,{className:I,component:"label",children:[(0,j.jsx)($.ZP,{title:"Change photo",arrow:!0,children:(0,j.jsx)(ne.Z,{})}),(0,j.jsx)("input",{onChange:function(s){var r;null!==(r=s.target.files)&&void 0!==r&&r.length&&e.savePhotoThunk(s.target.files[0])},type:"file",hidden:!0,accept:"image/png, image/jpeg"})]})]}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("div",{className:U,children:e.profile.fullName}),(0,j.jsx)(J,{status:e.status,updateUserStatusThunk:e.updateUserStatusThunk}),t?(0,j.jsx)(Y,{onSubmit:function(s){e.saveProfile(s),o(!1)},profile:e.profile}):(0,j.jsx)(oe,{profile:e.profile}),e.isOwner&&!t&&(0,j.jsx)(q.Z,{onClick:function(){return o(!0)},variant:"contained",color:"primary",className:M,children:"Edit"})]})]})})},ae=function(e){return(0,j.jsxs)("div",{className:"content",children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:ee,alt:"big content",src:"https://themified.com/friend-finder/images/covers/1.jpg"})}),(0,j.jsxs)("div",{className:H,children:[(0,j.jsx)("div",{className:Q,children:(0,j.jsx)(ie,(0,t.Z)((0,t.Z)({},e),{},{saveProfile:e.saveProfile,savePhotoThunk:e.savePhotoThunk,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatusThunk:e.updateUserStatusThunk}))}),(0,j.jsx)("div",{className:X,children:(0,j.jsx)(y,{})})]})]})},le=r(9723),ue=function(e){(0,i.Z)(r,e);var s=(0,a.Z)(r);function r(){return(0,o.Z)(this,r),s.apply(this,arguments)}return(0,n.Z)(r,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.authorizedUsersId)||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getUserStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{children:(0,j.jsx)(ae,(0,t.Z)((0,t.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,updateUserStatusThunk:this.props.updateUserStatusThunk,savePhotoThunk:this.props.savePhotoThunk,saveProfile:this.props.saveProfile}))})}}]),r}(l.Component),ce=(0,c.qC)((0,u.$j)((function(e){var s;return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUsersId:null===(s=e.auth.data)||void 0===s?void 0:s.id,isAuth:e.auth.isAuth}}),{getUserProfileThunk:d.SO,getUserStatusThunk:d.$S,updateUserStatusThunk:d.Gk,savePhotoThunk:d.rx,saveProfile:d.Ii}),le.EN)(ue)},4186:function(e,s,r){r.d(s,{g:function(){return c}});var t=r(1413),o=r(5987),n=(r(2791),"FormsControls_formControl__r1d3C"),i="FormsControls_error__wlcLU",a=r(184),l=["input","meta"],u=function(e){var s=e.meta,r=s.touched,t=s.error,o=e.children,l=r&&t;return(0,a.jsxs)("div",{className:n+" "+(l?i:""),children:[(0,a.jsx)("div",{children:o}),l&&(0,a.jsx)("span",{children:t})]})},c=function(e){var s=e.input,r=(e.meta,(0,o.Z)(e,l));return(0,a.jsxs)(u,(0,t.Z)((0,t.Z)({},e),{},{children:[" ",(0,a.jsx)("textarea",(0,t.Z)((0,t.Z)({},s),r))," "]}))}},3079:function(e,s,r){r.d(s,{l:function(){return t},D:function(){return o}});var t=function(e){if(!e)return"Field is  required"},o=function(e){return function(s){if(s.length>e)return"Max length is ".concat(e," symbols")}}},5579:function(e,s){s.Z={postsBlock:"MyPosts_postsBlock__EUhrj",posts:"MyPosts_posts__vdlLc",postContainer:"MyPosts_postContainer__ErarU",title:"MyPosts_title__j4FCV",button:"MyPosts_button__2UywY"}},7806:function(e,s,r){e.exports=r.p+"static/media/user.ce9d1fe9ebcdc36f6d1f.png"}}]);
//# sourceMappingURL=725.57cfe160.chunk.js.map