"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[725],{9725:function(e,s,t){t.r(s),t.d(s,{default:function(){return ce}});var r=t(1413),o=t(5671),n=t(3144),i=t(136),a=t(5716),l=t(2791),u=t(2177),c=t(7781),d=t(380),h=t(5579),f={post:"Post_post__4Shda",avatarAndName:"Post_avatarAndName__gGm5F",avatar:"Post_avatar__kH66c",message:"Post_message__M76YL",avatarPost:"Post_avatarPost__P3lni"},p=t(3526),m=t(7025),j=t(184),v=function(e){return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:f.post,children:[(0,j.jsxs)("div",{className:f.avatarAndName,children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:"https://cspromogame.ru//storage/upload_images/avatars/3884.jpg",className:f.avatarPost})}),(0,j.jsx)("h5",{style:{marginLeft:"5px"},children:f.userName})]}),(0,j.jsxs)("span",{className:f.message,children:[" ",e.message]}),(0,j.jsxs)("div",{className:f.likes,children:[(0,j.jsx)(m.Z,{onClick:function(){e.addLike(e.id)},size:"small",children:(0,j.jsx)(p.Z,{color:"primary"})}),(0,j.jsxs)("span",{children:[" ",e.likesCount]})]})]})})},x=t(6139),_=t(704),g=t(3079),k=t(4186),P=(0,g.D)(100),b=(0,_.Z)({form:"profileAddNewPostForm"})((function(e){return(0,j.jsxs)("form",{onSubmit:e.handleSubmit,className:h.Z.form,children:[(0,j.jsx)("div",{className:h.Z.data,children:(0,j.jsx)(x.Z,{component:k.g,name:"newPost",validate:[g.l,P],placeholder:"Enter your post",style:{width:"-webkit-fill-available"}})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{className:h.Z.button,children:"Add post"})})]})})),Z=t(2381),N=l.memo((function(e){var s=e.myposts.map((function(s){return(0,j.jsx)(v,{id:s.id,message:s.message,likesCount:s.likesCount,addLike:e.addLike},s.id)})),t=(0,u.I0)();return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:h.Z.postsBlock,children:[(0,j.jsxs)("div",{className:h.Z.postContainer,children:[(0,j.jsx)("h3",{className:h.Z.title,children:"My post"}),(0,j.jsx)(b,{onSubmit:function(s){e.onAddPost(s.newPost),t((0,Z.mc)("profileAddNewPostForm"))}})]}),(0,j.jsx)("div",{className:h.Z.posts,children:s})]})})})),y=(0,c.qC)((0,u.$j)((function(e){return{myposts:e.profilePage.myposts}}),(function(e){return{onAddPost:function(s){e((0,d.Pi)(s))},addLike:function(s){e((0,d.zL)(s))}}})))(N),A=t(885),C="ProfileInfo_mainContainer__L-pUr",F="ProfileInfo_avatarContainer__L9ZAr",S="ProfileInfo_photo__s63fO",w="ProfileInfo_infoContainer__45e2W",T="ProfileInfo_editButton__DwzGG",M="ProfileInfo_container__gK0tq",I="ProfileInfo_button__bKmpW",U="ProfileInfo_Name__SPfC1",D="ProfileInfo_status__XAKVz",J=function(e){var s=(0,l.useState)(!1),t=(0,A.Z)(s,2),r=t[0],o=t[1],n=(0,l.useState)(e.status),i=(0,A.Z)(n,2),a=i[0],u=i[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("div",{children:[!r&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{className:D,children:"Status"}),":",(0,j.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"----"})]}),r&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),e.updateUserStatusThunk(a)},onChange:function(e){u(e.currentTarget.value)},value:a})})]})},L=t(7806),O=t(5705),q=t(6513),z=t(9333),B=t(1787),E=t(1889),G=t(6362),V=t(9012),K=t(9641),R=t(9174),W="ProfileDataForm_button__AzM3I",Y=function(e){var s=(0,z.TL)(),t={facebook:"",website:"",vk:"",twitter:"",instagram:"",youtube:"",github:"",mainLink:""},o=(0,O.TA)({initialValues:(0,r.Z)({fullName:"",aboutMe:"",lookingForAJob:!1,lookingForAJobDescription:""},t),validate:function(e){var s={};return e.fullName||(s.fullName="Required"),e.aboutMe||(s.aboutMe="Required"),e.lookingForAJobDescription||(s.lookingForAJobDescription="Required"),s},onSubmit:function(e){s((0,d.Ii)(e)),o.resetForm()}});return(0,j.jsx)(E.ZP,{container:!0,justifyContent:"center",children:(0,j.jsx)(E.ZP,{item:!0,justifyContent:"center",children:(0,j.jsx)(G.Z,{children:(0,j.jsx)("form",{onSubmit:o.handleSubmit,children:(0,j.jsxs)(V.Z,{children:[(0,j.jsx)(B.Z,(0,r.Z)({type:"fullName",label:"fullName",margin:"normal"},o.getFieldProps("fullName"))),o.touched.fullName&&o.errors.fullName&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.fullName]}),(0,j.jsx)(B.Z,(0,r.Z)({type:"aboutMe",label:"aboutMe",margin:"normal"},o.getFieldProps("aboutMe"))),o.touched.aboutMe&&o.errors.aboutMe&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.aboutMe]}),(0,j.jsx)(K.Z,{label:"lookingForAJob",control:(0,j.jsx)(R.Z,(0,r.Z)({checked:o.values.lookingForAJob},o.getFieldProps("lookingForAJob")))}),(0,j.jsx)(B.Z,(0,r.Z)({type:"lookingForAJobDescription",label:"lookingForAJobDescription",margin:"normal"},o.getFieldProps("lookingForAJobDescription"))),o.touched.lookingForAJobDescription&&o.errors.lookingForAJobDescription&&(0,j.jsxs)("div",{style:{color:"red"},children:[" ",o.errors.lookingForAJobDescription]}),Object.keys(t).map((function(e){return(0,j.jsx)("div",{children:(0,j.jsx)(B.Z,(0,r.Z)({type:"text",label:e,margin:"normal"},o.getFieldProps(e)))},e)})),(0,j.jsx)(q.Z,{type:"submit",variant:"contained",color:"primary",className:W,children:"Save"})]})})})})})},$=t(3509),Q="Profile_containerInfoAndPosts__3ajPW",H="Profile_containerInfo__McOVL",X="Profile_containerPosts__QgnZZ",ee="Profile_headerContent__aq6AQ",se="Profile_data__TnYiL",te="Contact_link__M5GTG",re=function(e){var s=e.title,t=e.link;return(0,j.jsxs)("span",{style:{margin:"0 15px",wordBreak:"break-word"},children:[s,":",(0,j.jsx)("a",{href:t,className:te,children:t})]})},oe=function(e){var s=e.profile;return(0,j.jsxs)("div",{className:se,children:[(0,j.jsxs)("span",{children:[" About me: ",s.aboutMe," "]}),(0,j.jsxs)("span",{children:[" Looking for a job: ",s.lookingForAJob?"\u2705":""]}),s.lookingForAJob&&(0,j.jsxs)("span",{children:[" Skills: ",s.lookingForAJobDescription]}),(0,j.jsx)("span",{children:" Contacts: "}),Object.entries(s.contacts).map((function(e){return(0,j.jsx)(re,{title:e[0],link:e[1]},e[0])}))]})},ne=t(9978),ie=function(e){var s=(0,l.useState)(!1),t=(0,A.Z)(s,2),r=t[0],o=t[1];return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:C,children:[(0,j.jsxs)("div",{className:M,children:[(0,j.jsx)("div",{className:F,children:(0,j.jsx)("img",{src:e.profile.photos.large||L,className:S})}),e.isOwner&&(0,j.jsxs)(m.Z,{className:I,component:"label",children:[(0,j.jsx)($.ZP,{title:"Change photo",arrow:!0,children:(0,j.jsx)(ne.Z,{})}),(0,j.jsx)("input",{onChange:function(s){var t;null!==(t=s.target.files)&&void 0!==t&&t.length&&e.savePhotoThunk(s.target.files[0])},type:"file",hidden:!0,accept:"image/png, image/jpeg"})]})]}),(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("div",{className:U,children:e.profile.fullName}),(0,j.jsx)(J,{status:e.status,updateUserStatusThunk:e.updateUserStatusThunk}),r?(0,j.jsx)(Y,{onSubmit:function(s){e.saveProfile(s),o(!1)},profile:e.profile}):(0,j.jsx)(oe,{profile:e.profile}),e.isOwner&&!r&&(0,j.jsx)(q.Z,{onClick:function(){return o(!0)},variant:"contained",color:"primary",className:T,children:"Edit"})]})]})})},ae=function(e){return(0,j.jsxs)("div",{className:"content",children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{className:ee,alt:"big content",src:"https://themified.com/friend-finder/images/covers/1.jpg"})}),(0,j.jsxs)("div",{className:Q,children:[(0,j.jsx)("div",{className:H,children:(0,j.jsx)(ie,(0,r.Z)((0,r.Z)({},e),{},{saveProfile:e.saveProfile,savePhotoThunk:e.savePhotoThunk,isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatusThunk:e.updateUserStatusThunk}))}),(0,j.jsx)("div",{className:X,children:(0,j.jsx)(y,{})})]})]})},le=t(9723),ue=function(e){(0,i.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=this.props.authorizedUsersId)||this.props.history.push("/login"),this.props.getUserProfileThunk(e),this.props.getUserStatusThunk(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{children:(0,j.jsx)(ae,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,isOwner:!this.props.match.params.userId,updateUserStatusThunk:this.props.updateUserStatusThunk,savePhotoThunk:this.props.savePhotoThunk,saveProfile:this.props.saveProfile}))})}}]),t}(l.Component),ce=(0,c.qC)((0,u.$j)((function(e){var s;return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUsersId:null===(s=e.auth.data)||void 0===s?void 0:s.id,isAuth:e.auth.isAuth}}),{getUserProfileThunk:d.SO,getUserStatusThunk:d.$S,updateUserStatusThunk:d.Gk,savePhotoThunk:d.rx,saveProfile:d.Ii}),le.EN)(ue)},4186:function(e,s,t){t.d(s,{g:function(){return c}});var r=t(1413),o=t(5987),n=(t(2791),"FormsControls_formControl__r1d3C"),i="FormsControls_error__wlcLU",a=t(184),l=["input","meta"],u=function(e){var s=e.meta,t=s.touched,r=s.error,o=e.children,l=t&&r;return(0,a.jsxs)("div",{className:n+" "+(l?i:""),children:[(0,a.jsx)("div",{children:o}),l&&(0,a.jsx)("span",{children:r})]})},c=function(e){var s=e.input,t=(e.meta,(0,o.Z)(e,l));return(0,a.jsxs)(u,(0,r.Z)((0,r.Z)({},e),{},{children:[" ",(0,a.jsx)("textarea",(0,r.Z)((0,r.Z)({},s),t))," "]}))}},3079:function(e,s,t){t.d(s,{l:function(){return r},D:function(){return o}});var r=function(e){if(!e)return"Field is  required"},o=function(e){return function(s){if(s.length>e)return"Max length is ".concat(e," symbols")}}},5579:function(e,s){s.Z={postsBlock:"MyPosts_postsBlock__EUhrj",posts:"MyPosts_posts__vdlLc",postContainer:"MyPosts_postContainer__ErarU",title:"MyPosts_title__j4FCV",button:"MyPosts_button__2UywY"}},7806:function(e,s,t){e.exports=t.p+"static/media/user.ce9d1fe9ebcdc36f6d1f.png"}}]);
//# sourceMappingURL=725.1cd1ce2e.chunk.js.map